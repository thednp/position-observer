<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <link rel="icon" type="image/svg+xml" href="./vite.svg">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description"
    content="ðŸ¯ PositionObserver is a JavaScript tool that provides a way to asynchronously observe changes in the position of a target element within its viewport.">
  <meta name="keywords" content="Typescript,PositionObserver,position-observer">
  <meta name="author" content="thednp">
  <title>PositionObserver</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="./theme.css" rel="stylesheet">
</head>

<body>
  <header class="sticky-top">
    <div class="position-absolute opacity-75 backdrop-blur" style="inset: 0;"></div>
    <nav class="position-relative navbar navbar-dark navbar-expand-sm">
      <div class="container">
        <a class="navbar-brand text-white"
          href="https://github.com/thednp/position-observer"><span class="fw-bold">Position</span>Observer</a>
        <button class="navbar-toggler border-0" type="button" aria-controls="navbarNav" aria-expanded="false"
          aria-label="Toggle navigation">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="21" y1="10" x2="3" y2="10"></line>
            <line x1="21" y1="14" x2="3" y2="14"></line>
          </svg>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="ms-sm-auto navbar-nav">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="https://github.com/thednp/position-observer">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path
                    d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                  </path>
                </svg>
                <span class="d-sm-none">Github</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/thednp/position-observer/archive/refs/heads/main.zip">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6">
                  <line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>
                </svg>
                <span class="d-sm-none">Download</span>              
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>
  <main>
    <div class="bg-info-subtle">
      <div class="container d-flex align-items-center" style="height: 75vh">
        <div>
          <h1 class="display-1 lh-1"><span class="fw-bold">Position</span>Observer</h1>
          <p class="fw-bold lead">The tool that can easily <i>replace</i> most of your scroll and resize event listeners.
            <span class="d-block">Simple design and easy to use.</span></p>
        </div>
      </div>
    </div>
    <div class="">
      <div class="container d-flex align-items-center" style="height: 25vh">
        <div class="d-flex flex-column items-start">
          <h2 class="lh-1">Installation</h2>
          <div class="btn-toolbar">
            <button class="btn font-monospace rounded-pill" data-cli="npm install @thednp/position-observer">npm</button>
            <button class="btn font-monospace rounded-pill" data-cli="pnpm install @thednp/position-observer">pnpm</button>
            <button class="btn font-monospace rounded-pill" data-cli="yarn add @thednp/position-observer">yarn</button>
            <button class="btn font-monospace rounded-pill" data-cli="deno install npm:@thednp/position-observer">deno</button>
          </div>
        </div>
      </div>
    </div>
    <div class="bg-success-subtle">
      <div class="container d-flex align-items-center" style="min-height: 25rem; height: 50vh">
        <div class="mw-100">
          <h2 class="lh-1 mb-3">Usage</h2>
<pre class="bg-white border border-success p-4 rounded-3 scrollbar">
<code class="text-danger">import</code> <code class="text-primary">PositionObserver</code> from <span class="text-muted">'@thednp/position-observer'</span>;

<code class="text-danger">const</code> target = document.<code class="text-success">getElementById</code>('myElement');

<code class="text-muted">// only handle a single entry</code>
<code class="text-danger">const</code> observer = <code class="text-danger">new</code> <code class="text-primary">PositionObserver</code>(([entry], currentObserver) => {
  <code class="text-danger">if</code> (entry.<code class="text-success">isIntersecting</code><code class="text-muted">/* or any other condition */</code>) console.<code class="text-success">log</code>(<span class="text-muted">'isIntersecting!'</span>);
  <code class="text-danger">else</code> console.<code class="text-success">log</code>(<span class="text-muted">'NOT isIntersecting!'</span>)
});

observer.<code class="text-success">observe</code>(target);</pre>
        <p>See <a href="https://github.com/thednp/position-observer/blob/main/README.md">README</a> for details.</p>
        </div>
      </div>
    </div>
    <div class="container" style="padding-top: 30vh; padding-bottom: 30vh; margin: 40vh auto">
      <div>
        <h2 class="lh-1">Example</h2>
        <p class="mb-3">In this example these tooltips will stick to their trigger button while you scroll up and down
          or resize the window. First is handled by via the PositionObserver callback, while the second is handled by
          both scroll and resize event handlers. Both callbacks are wrapped in a <code>requestAnimationFrame</code>
          wrapper and both event listeners are set as passive, just to make sure we have a fair comparison.</p>
        <p>Click one of the buttons below and start scrolling and or resize the window for a couple of seconds. After
          500 updates, an average and a maximum execution time in microseconds will be calculated and displayed.</p>
        <div class="btn-toolbar mb-3">
          <button class="btn btn-success rounded-pill mb-1" data-test="tooltip1">Observer</button>
          <button class="btn btn-secondary rounded-pill ms-auto mb-1" data-test="tooltip2">Scroll & Resize</button>
        </div>
        <div class="row gap-5">
          <div class="col">
            <div class="row">
              <div class="col-sm-9">Average</div>
              <div class="col-sm-3 text-md-end"><span class="bench-average1">0Âµ</span></div>
            </div>
            <div class="row">
              <div class="col-sm-9">Maximum</div>
              <div class="col-sm-3 text-md-end"><span class="bench-max1">0Âµ</span></div>
            </div>
          </div>
          <div class="col">
            <div class="flex-column-reverse flex-sm-row row">
              <div class="col-sm-3"><span class="bench-average2">0Âµ</span></div>
              <div class="col-sm-9 text-sm-end">Average</div>
            </div>
            <div class="flex-column-reverse flex-sm-row row">
              <div class="col-sm-3"><span class="bench-max2">0Âµ</span></div>
              <div class="col-sm-9 text-sm-end order-0 order-sm-1">Maximum</div>
            </div>
          </div>
        </div>
        <div>
          <div class="tooltip first position-fixed d-none bs-tooltip-top" role="tooltip" style="top: 0px; left: 0px;">
            <div class="tooltip-arrow position-absolute" style="left: 93.5px;"></div>
            <div class="tooltip-inner">
              <b>Observer Tooltip</b>
              <span class="badge bg-success">NEW</span><br>
              In this example this tooltip will stick to the button via the PositionObserver callback. You will notice
              that the average execution time while scrolling is slightly faster and even faster while resizing.
            </div>
          </div>
          <div class="tooltip second position-fixed d-none bs-tooltip-top" role="tooltip" style="top: 0px; left: 0px;">
            <div class="tooltip-arrow position-absolute" style="left: 93.5px;"></div>
            <div class="tooltip-inner">
              <b>Scroll Tooltip</b>
              <span class="badge bg-danger">OLD</span><br>
              In this example this tooltip will stick to the button via the scroll and or resize event handlers. You
              will notice that the average execution time while scrolling is slightly slower and considerably slower
              while resizing.
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <div class="container d-flex py-3">
      <b>Position</b>Observer
      <span class="ms-auto text-sm"><span class="fw-bold">thednp</span> Â© 2025</span>
    </div>
    <script type="module" src="./script.js"></script>
  </footer>

</body>

</html>